(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"07a4":function(e,t,n){"use strict";var o=n("4ec3"),s={phone:null,openId:null,hasrecord:null,wxjdk:null,appId:o.appId},r=s,a={getPhone:function(e){return e.phone},getOpenid:function(e){return e.openid},gethasrecord:function(e){return e.hasrecord}},i=a,c={setPhoneNum:function(e,t){e.phone=t},setOpenid:function(e,t){e.openId=t},hasNowrecord:function(e,t){e.hasrecord=t},setjdk:function(e,t){e.wxjdk=t}},d=c,p=n("795b"),u=n.n(p),l=n("acbb"),f=n("0f1d"),g=(n("4ec3"),{getConfig:function(e,t){var n=t.code,o=t.openId,s=void 0===o?"":o,r={code:n,openId:s};return l["a"].requestHttpMethods("",{msgType:"STO_WECHAT_GETACCESSTOKEN",logisticsInterface:r},"post").then(function(t){if("000"==t.respCode)return e.commit("setOpenid",t.data.openid),u.a.resolve({success:!0,data:t.data})})},getJdk:function(e,t){var n=t.pageUrl,o=t.openId,s={pageUrl:n,openId:o};return l["a"].requestHttpMethods("",{msgType:"STO_WECHAT_GETSIGNATURE",logisticsInterface:s},"post").then(function(e){return"000"==e.respCode?u.a.resolve({success:!0,data:e.data}):u.a.resolve({success:!1,data:null})})},getPhone:function(e,t){var n=t.openId,o={openId:n};return l["a"].requestHttpMethods("",{msgType:"STO_DRIVER_GETMYPHONE",logisticsInterface:o},"post",!0).then(function(t){if("000"==t.respCode)return e.commit("setPhoneNum",t.data),u.a.resolve(t.data)})},sendCode:function(e,t){var n=t.phone,o=t.openId,s={phone:n,openId:o};return l["a"].requestHttpMethods("",{msgType:"STO_DRIVER_GETVFNCODE",logisticsInterface:s},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage(e.resMessage)})},bindPhone:function(e,t){var n=t.phone,o=t.openId,s=t.verificationCode,r={phone:n,openId:o,verificationCode:s};return l["a"].requestHttpMethods("",{msgType:"STO_DRIVER_BIND",logisticsInterface:r},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage(e.resMessage)})},updataPhone:function(e,t){var n=t.phone,o=t.openId,s=t.verificationCode,r={phone:n,openId:o,verificationCode:s};return l["a"].requestHttpMethods("",{msgType:"STO_DRIVER_AMEND",logisticsInterface:r},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage(e.resMessage)})},getTasklist:function(e,t){var n=t.openId,o=t.pageIndex,s=void 0===o?1:o,r=t.total,a=void 0===r?"":r,i={openId:n,pageIndex:s,total:a};return l["a"].requestHttpMethods("",{msgType:"STO_TASK_LIST",logisticsInterface:i},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage(e.resMessage)})},getCarriagelist:function(e,t){var n=t.openId,o=t.pageIndex,s=t.total,r=t.charStr,a={openId:n,pageIndex:o,total:s,charStr:r};return l["a"].requestHttpMethods("",{msgType:"STO_TASK_PUNCH_GETTASKRECORD",logisticsInterface:a},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage(e.resMessage)})},getTaskinfo:function(e,t){var n=t.openId,o=t.shipMentNo,s={openId:n,shipMentNo:o};return l["a"].requestHttpMethods("",{msgType:"STO_TASK_GETAPPROACHPOINTBYSHIPMENTNO",logisticsInterface:s},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage(e.resMessage)})},getSiterecord:function(e,t){var n=t.openId,o=t.shipMentNo,s={openId:n,shipMentNo:o};return l["a"].requestHttpMethods("",{msgType:"STO_TASK_PUNCH_GETSITEPUNCHRECORD",logisticsInterface:s},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage(e.resMessage)})},getMapInfo:function(e,t){var n=t.openId,o=t.shipMentNo,s=void 0===o?null:o,r={openId:n,shipMentNo:s};return l["a"].requestHttpMethods("",{msgType:"STO_TASK_PUNCH_GETCURRTASKSITESTATUS",logisticsInterface:r},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage(e.resMessage)})},getNowrecord:function(e,t){var n=t.openId,o={openId:n};return l["a"].requestHttpMethods("",{msgType:"STO_TASK_GETAPPROACHPOINTBYSHIPMENTSTATUS",logisticsInterface:o},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e.data);f["a"].sendMessage(e.resMessage)})},addTransportRecord:function(e,t){var n=t.openId,o=t.transportOrder,s=t.transportLine,r=t.licensePlate,a=t.departureTime,i=t.secondCategoryId,c=t.description,d=t.picStreamList,p=void 0===d?[]:d,g={openId:n,transportOrder:o,transportLine:s,licensePlate:r,departureTime:a,secondCategoryId:i,description:c,picStreamList:p};return l["a"].requestHttpMethods("",{msgType:"STO_DRIVER_ADDPUTRECORD",logisticsInterface:g},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage(e.resMessage)})},searchRecordType:function(e,t){var n=t.openId,o={openId:n};return l["a"].requestHttpMethods("",{msgType:"STO_DRIVER_PUTRECORDTYPE",logisticsInterface:o},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage(e.resMessage)})},getRecordInfo:function(e,t){var n=t.openId,o=t.index,s={openId:n,index:o};return l["a"].requestHttpMethods("",{msgType:"STO_DRIVER_GETPUTRECORD",logisticsInterface:s},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage(e.resMessage)})},getRecordshow:function(e,t){var n=t.openId,o=t.registrationCode,s={openId:n,registrationCode:o};return l["a"].requestHttpMethods("",{msgType:"STO_DRIVER_TRANSPORTDETAIL",logisticsInterface:s},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage(e.resMessage)})},getLatestweightlist:function(e,t){var n=t.openId,o={openId:n};return l["a"].requestHttpMethods("",{msgType:"STO_TASK_WEIGNT_GETLASTNEWINFO",logisticsInterface:o},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage(e.resMessage)})},getInfoById:function(e,t){var n=t.openId,o=t.id,s={openId:n,id:o};return l["a"].requestHttpMethods("",{msgType:"STO_TASK_WEIGNT_GETINFOBYID",logisticsInterface:s},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage(e.resMessage)})},getPoundinfoBycarnum:function(e,t){var n=t.carNum,o=t.openId,s=t.pageIndex,r=t.total,a={carNum:n,openId:o,pageIndex:s,total:r};return l["a"].requestHttpMethods("",{msgType:"STO_TASK_WEIGNT_GETWEIGHTINFOBYCARNUM",logisticsInterface:a},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage(e.resMessage)})},getThreeDayslist:function(e,t){var n=t.openId,o=t.pageIndex,s=t.total,r={openId:n,pageIndex:o,total:s};return l["a"].requestHttpMethods("",{msgType:"STO_TASK_WEIGNT_GETHISTORYRECORD",logisticsInterface:r},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage(e.resMessage)})},getMarkhistoryByOpenid:function(e,t){var n=t.openId,o=t.pageIndex,s=t.total,r=t.charStr,a={openId:n,pageIndex:o,total:s,charStr:r};return l["a"].requestHttpMethods("",{msgType:"STO_TASK_PUNCH_RECORD",logisticsInterface:a},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage(e.resMessage)})},getLocationList:function(e,t){var n=t.fullName,o=t.openId,s=t.index,r=void 0===s?1:s,a=t.pageSize,i=void 0===a?10:a,c={openId:o,fullName:n,index:r,pageSize:i};return l["a"].requestHttpMethods("",{msgType:"STO_SITE_GETLOCATION",logisticsInterface:c},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage("LocationList:"+e.resMessage)})},signAtrue:function(e,t){var n=t.openId,o=t.shipMentNo,s=t.sortNum,r=t.trackType,a=t.signTime,i=t.supplement,c=t.longitude,d=t.latitude,p={openId:n,shipMentNo:o,sortNum:s,trackType:r,signTime:a,supplement:i,longitude:c,latitude:d};return l["a"].requestHttpMethods("",{msgType:"STO_TASK_PUNCH_SIGN",logisticsInterface:p},"post",!0).then(function(e){if("000"==e.respCode)return u.a.resolve(e);f["a"].sendMessage("打卡失败:"+e.resMessage)})},checkSigninfo:function(e,t){var n=t.openId,o=t.shipMentNo,s=t.sortNum,r=t.longitude,a=t.latitude,i=t.trackType,c={openId:n,shipMentNo:o,sortNum:s,longitude:r,latitude:a,trackType:i};return l["a"].requestHttpMethods("",{msgType:"STO_TASK_PUNCH_CHECK",logisticsInterface:c},"post").then(function(e){return u.a.resolve(e)})}}),h=g;t["a"]=new Vuex.Store({state:r,getters:i,mutations:d,actions:h})},"0f1d":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={sendMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom";vant.Toast.allowMultiple(),vant.Toast({position:t,message:e})},showloading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"加载中...",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"spinner";vant.Toast.loading({mask:t,loadingType:n,message:e})},closeMessage:function(){vant.Toast.clear()},DialogMessage:function(e){vant.Dialog.alert({message:e}).then(function(){})},DialogSuccess:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle";vant.Toast.allowMultiple(),vant.Toast({type:n,position:o,duration:t,message:e})},Dialogconfirm:function(e,t,n,o){vant.Dialog.confirm({title:t,confirmButtonText:n,message:e,beforeClose:o})}}},1:function(e,t){},1898:function(e,t,n){e.exports=n.p+"img/my_task_no@3x.09c1cfbd.png"},2:function(e,t){},"22c8":function(e,t,n){e.exports=n.p+"img/phone_illustration@3x.5b79e975.png"},3969:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"bg_white pos_r",attrs:{id:"box_content"}},[o("div",{staticClass:"main_box bg_white"},[o("div",{staticClass:"nodata"},[o("img",{attrs:{src:n("1898"),alt:""}}),o("p",{staticClass:"text_999 f_30"},[e._v(e._s(e.info))])])])])},s=[],r={props:{info:{type:String,default:"暂无数据显示"}}},a=r,i=(n("45c5"),n("2877")),c=Object(i["a"])(a,o,s,!1,null,null,null);t["a"]=c.exports},"41f3":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={data:function(){return{openId:null,phone:null,show:!1}},created:function(){var e=this,t=e.$Wechat.getUrlCode().code;e.$store.state.openId?(e.openId=e.$store.state.openId,e.show=!0):e.$store.dispatch("getConfig",{code:t}).then(function(t){t&&t.success&&(e.openId=t.data.openid,e.$store.state.openId=t.data.openid,e.$store.dispatch("getPhone",{openId:e.openId}).then(function(t){t?(e.$store.state.phone=t,e.phone=e.$store.state.phone):window.location.href=e.$Wechat.redirectUrlPage("/user.html"),e.show=!0}))})}}},"45c5":function(e,t,n){"use strict";var o=n("6d02"),s=n.n(o);s.a},"4ec3":function(e,t,n){"use strict";n.r(t);var o={BASE_URL:"http://tmsso-gateway.sto.cn/gateWay",fromCode:"weixin",appId:"wxa24e2d33d64903ba",wechatsecret:"4fa043024cf670a7e44291e5c153358d",apisecret:"1134587sq878"};t["default"]=o},"5a60":function(e,t,n){"use strict";var o=n("a27f"),s=n.n(o);s.a},"6d02":function(e,t,n){},"99e1":function(e,t,n){"use strict";n("386d");var o=n("795b"),s=n.n(o),r=(n("28a5"),n("4ec3")),a={appID:r["default"].appId,appsecret:r["default"].wechatsecret,wechatUrl:"https://api.weixin.qq.com/"},i=a,c=n("acbb"),d={appid:i.appID,appsecret:i.appsecret,wechaturl:i.wechatUrl,gettimestap:function(){return(new Date).getTime()},randomChar:function(e){e=e||32;for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=t.length,o="",s=0;s<e;s++)o+=t.charAt(Math.floor(Math.random()*n));return o},getJsapiTicket:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t||(t=this.getAccessToken());var n,o,s,r,a=window.location.href.split("#")[0],i="".concat(this.wechaturl,"cgi-bin/ticket/getticket?access_token=").concat(t,"&type=jsapi");return this.getBack(i).then(function(t){n=t.ticket,o=e.randomChar(),s=e.gettimestap(),r="jsapi_ticket=".concat(n,"&noncestr=").concat(o,"&timestamp=").concat(s,"&url=").concat(a),{appId:e.appid,timestamp:e.gettimestap(),nonceStr:e.randomChar(),signature:sha1(r)}}),n},getAccessToken:function(){var e="".concat(this.wechaturl,"cgi-bin/token?grant_type=client_credential&appid=").concat(this.appid,"&secret=").concat(this.appsecret);this.getBack(e)},getTokenForcode:function(e){var t="".concat(this.wechaturl,"sns/oauth2/access_token?appid=").concat(this.appid,"&secret=").concat(this.appsecret,"&code=").concat(e,"&grant_type=authorization_code");this.getBack(t)},refreshFortoken:function(e){var t="".concat(this.wechaturl,"sns/oauth2/refresh_token?appid=").concat(this.appid,"&grant_type=refresh_token&refresh_token=").concat(e);this.getBack(t)},getBack:function(e){return axios.get(e).then(function(e){return s.a.resolve(e)}).catch(function(e){console.log(e)})},getCode:function(){var e=null,t=c["a"].getAllUrl(),n=this.appid;return e=this.getUrlCode().code,null!=e&&""!==e||(window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(n,"&redirect_uri=").concat(t,"&response_type=code&scope=snsapi_base&state=123#wechat_redirect")),e},redirectUrl:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t?c["a"].getAllUrl(t):c["a"].getAllUrl();var n=this.appid;window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(n,"&redirect_uri=").concat(e,"&response_type=code&scope=snsapi_base&state=123#wechat_redirect")},redirectUrlPage:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t?c["a"].getAllUrl(t):c["a"].getAllUrl();var n=this.appid;return"https://open.weixin.qq.com/connect/oauth2/authorize?appid=".concat(n,"&redirect_uri=").concat(e,"&response_type=code&scope=snsapi_base&state=123#wechat_redirect")},getUrlCode:function(){var e=location.search;this.winUrl=e;var t=new Object;if(-1!=e.indexOf("?"))for(var n=e.substr(1),o=n.split("&"),s=0;s<o.length;s++)t[o[s].split("=")[0]]=o[s].split("=")[1];return t}};t["a"]=d},a27f:function(e,t,n){},acbb:function(e,t,n){"use strict";var o=n("795b"),s=n.n(o),r=n("5176"),a=n.n(r),i=(n("6b54"),n("06db"),n("f499")),c=n.n(i),d=n("4ec3"),p={baseURL:d["default"].BASE_URL,retry:1,retryDelay:4e3,timeout:2e4,headers:{"Content-Type":"application/json"}},u=p,l=n("4328"),f=n.n(l),g=n("07a4"),h=n("0f1d"),v=n("f5767"),I={gettimestap:function(){return(new Date).getTime()},randomChar:function(e){e=e||32;for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=t.length,o="",s=0;s<e;s++)o+=t.charAt(Math.floor(Math.random()*n));return o},getsignature:function(e,t,n,o){return this.createdMd5(e+t+n+o)},setStore:function(e,t){e&&("string"!==typeof t&&(t=c()(t)),window.localStorage.setItem(e,t))},getStore:function(e){return!!e&&window.localStorage.getItem(e)},removeStore:function(e){e&&window.localStorage.removeItem(e)},setsessionStore:function(e,t){e&&("string"!==typeof t&&(t=c()(t)),window.sessionStorage.setItem(e,t))},getsessionStore:function(e){if(e)return window.sessionStorage.getItem(e)},removesessionStore:function(e){e&&window.sessionStorage.removeItem(e)},createdMd5:function(e){e=e.toString();var t=new v;return t.update(e).digest("hex")},serializationData:function(e){return f.a.stringify(e)},requestHttpMethods:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post",o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:u;o&&h["a"].showloading("正在加载中...");var c=n.toLowerCase();if(r){var p,l=null;g["a"].state.openId?p=g["a"].state.openId:(p=I.randomChar(),t.logisticsInterface.openId=p);var f,v="";p&&(l=d["default"].fromCode+p+d["default"].apisecret,v=I.createdMd5(l)),f={dataDigest:v,fromCode:d["default"].fromCode}}var m=r?a()({},f,t):t;"get"==c&&(m={params:m});var T=axios.create(i),_="post"==c?T.post:T.get;return _(e,m).then(function(e){return o&&h["a"].closeMessage(),s.a.resolve(e.data)}).catch(function(e){h["a"].sendMessage(e,3)})},setCookie:function(e,t,n){var o=new Date;o.setDate(o.getDate()+n),document.cookie=e+"="+escape(t)+(null==n?"":";expires="+o.toGMTString())},getCookie:function(e){if(document.cookie.length>0){var t=document.cookie.indexOf(e+"=");if(-1!=t){t=t+e.length+1;var n=document.cookie.indexOf(";",t);return-1==n&&(n=document.cookie.length),unescape(document.cookie.substring(t,n))}}return""},getCurrtParentNode:function(e){e.target.style.display="none",e.target.nextElementSibling.focus()},DelLoading:function(){var e=document.getElementById("Loading");e&&e.parentNode.removeChild(e)},getFormatterTime:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1;n=n<10?"0"+n:n;var o=e.getDate();o=o<10?"0"+o:o;var s=e.getHours();s=s<10?"0"+s:s;var r=e.getMinutes();r=r<10?"0"+r:r;var a=e.getSeconds();return a=a<10?"0"+a:a,t+"-"+n+"-"+o+" "+s+":"+r+":"+a},getAllUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=window.location;return e=""!=e&&e?e:t.pathname,t.protocol+"//"+t.host+e},TreeFormatter:function(e){e.forEach(function(e){delete e.children});var t={};e.forEach(function(e){t[e.id]=e});var n=[];return e.forEach(function(e,o){var s=t[e.parent];s?(e["level"]=o,(s.children||(s.children=[])).push(e)):n.push(e)}),n}};t["a"]=I},b932:function(e,t){function n(){var e=document.documentElement.clientWidth;e>750&&(e=750);var t=e/7.5;document.documentElement.style.fontSize=t+"px"}n(),window.onresize=function(){n()}},b9d9:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"tips_layer_box"}},[o("van-popup",{ref:"tips",staticClass:"layer_tips"},[o("div",{staticClass:"layer_content"},[o("h4",[e._v(e._s(e.title))]),o("img",{attrs:{src:n("22c8"),alt:""}}),o("p",{staticClass:"text_c f_30 text_333"},[e._v(e._s(e.info))]),o("div",{staticClass:"btn_box"},[o("button",{staticClass:"active",staticStyle:{flex:"0.6"},on:{click:e.do_btn}},[e._v(e._s(e.suretext))])])])])],1)},s=[],r=(n("6762"),n("2fdb"),{name:"message",props:{title:{type:String,default:"温馨提示"},info:{type:String,default:"您还未绑定手机号 请先绑定手机号！"},suretext:{type:String,default:"去绑定"},type:{type:String,default:"info",validator:function(e){return["info","success","warning","error"].includes(e)}},params:{type:Object,default:function(){return{type:"url",router:"http://www.baidu.com"}}}},methods:{do_btn:function(){var e=this;switch(e.params.type){case"url":window.location.href=e.params.router;break;case"vue":e.$router.push({path:e.params.router});break;default:e.$Tools.sendMessage("参数错误！");break}},cancel:function(){this.$nextTick(function(){var e=document.querySelector("#tips_layer_box");e&&e.parentNode.removeChild(e)})}}}),a=r,i=(n("5a60"),n("2877")),c=Object(i["a"])(a,o,s,!1,null,null,null),d=c.exports,p={install:function(e){function t(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{type:"url",router:"aaa"},s=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,a=e.extend({render:function(e){var a={title:s,type:t,info:n,suretext:r,params:o,show:this.show};return e("message",{props:a})},data:function(){return{show:!0}}}),i=new a,c=i.$mount(),d=c.$el;document.body.appendChild(d),c.show=!0}"undefined"!==typeof window&&window.Vue&&(e=window.Vue),e.component("Message",d),e.prototype.$message={info:function(e,n){e&&t("info",e,n)}}}};t["a"]=p}}]);